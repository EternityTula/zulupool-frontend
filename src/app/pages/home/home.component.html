<app-chart-power
    [stats]="poolStatsHistory.stats"
    [powerMultLog10]="poolStatsHistory.powerMultLog10"
></app-chart-power>

<div class="sign-up-block">
    <a
        class="sign-up-link"
        [routerLink]="[signUpLink.href]"
        [queryParams]="signUpLink.params"
    >
        {{ "home.signUpButton" | translate }}
    </a>
</div>

<div class="coins-block">
    <span class="coin-select-label">
        {{ "home.coinSelect" | translate }}
    </span>

    <nz-select
        class="coin-select"
        [(ngModel)]="poolStats"
        [nzLoading]="!poolStatsList"
        (ngModelChange)="onPoolStatsSelect()"
    >
        <nz-option
            *ngFor="let item of poolStatsList"
            [nzLabel]="item.coin"
            [nzValue]="item"
        ></nz-option>
    </nz-select>

    <nz-table
        *ngIf="poolStats"
        style="flex: 1; margin-left: 32px; max-width: 800px;"
        nzBordered
        nzSize="small"
        [nzTemplateMode]="true"
    >
        <tbody>
            <tr>
                <td>{{ "common.dictionary.power" | translate }}</td>
                <td>
                    {{
                        poolStats.power
                            | metricPrefixify: poolStats.powerMultLog10
                            | toFixed
                            | suffixify: ESuffix.Power
                    }}
                </td>
            </tr>
            <tr>
                <td>Clients</td>
                <td>{{ poolStats.clients }}</td>
            </tr>
            <tr>
                <td>{{ "common.dictionary.workers" | translate }}</td>
                <td>{{ poolStats.workers }}</td>
            </tr>
        </tbody>
    </nz-table>
</div>

<nz-table
    class="found-blocks-table"
    nzBordered
    [nzTemplateMode]="true"
    [nzLoading]="foundBlocksLoading"
>
    <thead>
        <tr>
            <th *ngFor="let title of foundBlockKeys">
                {{ "home.foundBlocksTable.title." + title | translate }}
            </th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let foundBlock of foundBlocks">
            <td *ngFor="let key of foundBlockKeys">
                {{ foundBlock[key] }}
            </td>
        </tr>
    </tbody>
</nz-table>
